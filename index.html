<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø§Ø®ØªØ¨Ø§Ø± Ù„ØºØªÙŠ Ù…Ø¹ ØµÙˆØ±Ø©</title>
  <link rel="stylesheet" href="quiz.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>Ø§Ø®ØªØ¨Ø§Ø± Ù„ØºØªÙŠ - Ù…Ø¹ ØµÙˆØ±</h1>
      <div class="status-bar">
        <span id="question-number">Ø§Ù„Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 2</span>
        <span id="timer">30:00 â³</span>
        <span id="score">Ø§Ù„Ø¯Ø±Ø¬Ø©: 0 / 100 ğŸ†</span>
      </div>
    </header>
    <main>
      <div id="question-container">
        <p id="question"></p>
        <img id="question-image" src="" alt="" style="max-width:100%;display:none;margin-bottom:15px;">
      </div>
      <div id="choices" class="choices-grid"></div>
      <div class="buttons">
        <button onclick="prevQuestion()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button onclick="nextQuestion()" id="next-btn" disabled>Ø§Ù„ØªØ§Ù„ÙŠ</button>
        <button onclick="endQuiz()" class="stop">ØªÙˆÙ‚Ù</button>
      </div>
    </main>
    <footer id="result" style="display:none;"></footer>
  </div>
  <script>
const questions = [
  {
    question: "Ù…Ø§ Ø§Ø³Ù… Ù‡Ø°Ø§ Ø§Ù„Ø­ÙŠÙˆØ§Ù†ØŸ",
    image: "images/camel.jpg",
    choices: ["Ø£Ø³Ø¯", "Ø¬Ù…Ù„", "ØºØ²Ø§Ù„", "ÙÙŠÙ„"],
    answer: 1
  },
  {
    question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„ÙƒÙ„Ù…Ø© (Ù…Ø¯Ø±Ø³Ø©)ØŸ",
    image: "",
    choices: ["Ø§Ø³Ù…", "ÙØ¹Ù„", "Ø­Ø±Ù", "Ø£Ø¯Ø§Ø©"],
    answer: 0
  }
];

let currentQuestion = 0;
let score = 0;
let selected = false;
let timer = 1800;
let timerInterval;

function startTimer() {
  timerInterval = setInterval(() => {
    let minutes = Math.floor(timer / 60);
    let seconds = timer % 60;
    document.getElementById("timer").textContent = minutes + ":" + (seconds < 10 ? "0" + seconds : seconds) + " â³";
    timer--;
    if (timer < 0) {
      clearInterval(timerInterval);
      endQuiz();
    }
  }, 1000);
}

function loadQuestion() {
  const q = questions[currentQuestion];
  document.getElementById("question").textContent = q.question;
  document.getElementById("question-number").textContent = "Ø§Ù„Ø³Ø¤Ø§Ù„ " + (currentQuestion + 1) + " Ù…Ù† " + questions.length;

  const img = document.getElementById("question-image");
  if (q.image) {
    img.src = q.image;
    img.style.display = "block";
  } else {
    img.style.display = "none";
  }

  const choicesBox = document.getElementById("choices");
  choicesBox.innerHTML = "";
  document.getElementById("next-btn").disabled = true;
  selected = false;

  q.choices.forEach((choice, index) => {
    const div = document.createElement("div");
    div.textContent = choice;
    div.onclick = () => selectAnswer(div, index);
    choicesBox.appendChild(div);
  });
}

function selectAnswer(el, index) {
  if (selected) return;
  selected = true;
  const correct = questions[currentQuestion].answer;
  document.querySelectorAll("#choices div").forEach((div, i) => {
    div.style.pointerEvents = "none";
    div.classList.add(i === correct ? "correct" : (i === index ? "incorrect" : ""));
  });
  if (index === correct) score += Math.floor(100 / questions.length);
  document.getElementById("score").textContent = "Ø§Ù„Ø¯Ø±Ø¬Ø©: " + score + " / 100 ğŸ†";
  document.getElementById("next-btn").disabled = false;
}

function nextQuestion() {
  currentQuestion++;
  if (currentQuestion < questions.length) loadQuestion();
  else endQuiz();
}

function prevQuestion() {
  if (currentQuestion > 0) {
    currentQuestion--;
    loadQuestion();
  }
}

function endQuiz() {
  clearInterval(timerInterval);
  document.querySelector("main").style.display = "none";
  document.getElementById("result").style.display = "block";
  document.getElementById("result").innerHTML = `âœ”ï¸ Ù†ØªÙŠØ¬ØªÙƒ: ${score} Ù…Ù† 100<br><button onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø©</button>`;
}

window.onload = function () {
  loadQuestion();
  startTimer();
}
  </script>
</body>
</html>